// Code generated by sqlc. DO NOT EDIT.
// versions:
//   sqlc v1.30.0
// source: plenarprotokoll.sql

package db

import (
	"context"
	"database/sql"
)

const countPlenarprotokolle = `-- name: CountPlenarprotokolle :one
SELECT COUNT(*) FROM plenarprotokoll
WHERE 
    (? IS NULL OR aktualisiert >= ?)
    AND (? IS NULL OR aktualisiert <= ?)
    AND (? IS NULL OR datum >= ?)
    AND (? IS NULL OR datum <= ?)
    AND (? IS NULL OR wahlperiode = ?)
    AND (? IS NULL OR dokumentnummer = ?)
`

type CountPlenarprotokolleParams struct {
	Column1        interface{}   `json:"column_1"`
	Aktualisiert   string        `json:"aktualisiert"`
	Column3        interface{}   `json:"column_3"`
	Aktualisiert_2 string        `json:"aktualisiert_2"`
	Column5        interface{}   `json:"column_5"`
	Datum          string        `json:"datum"`
	Column7        interface{}   `json:"column_7"`
	Datum_2        string        `json:"datum_2"`
	Column9        interface{}   `json:"column_9"`
	Wahlperiode    sql.NullInt64 `json:"wahlperiode"`
	Column11       interface{}   `json:"column_11"`
	Dokumentnummer string        `json:"dokumentnummer"`
}

func (q *Queries) CountPlenarprotokolle(ctx context.Context, arg CountPlenarprotokolleParams) (int64, error) {
	row := q.db.QueryRowContext(ctx, countPlenarprotokolle,
		arg.Column1,
		arg.Aktualisiert,
		arg.Column3,
		arg.Aktualisiert_2,
		arg.Column5,
		arg.Datum,
		arg.Column7,
		arg.Datum_2,
		arg.Column9,
		arg.Wahlperiode,
		arg.Column11,
		arg.Dokumentnummer,
	)
	var count int64
	err := row.Scan(&count)
	return count, err
}

const createPlenarprotokoll = `-- name: CreatePlenarprotokoll :one
INSERT INTO plenarprotokoll (
    id, titel, dokumentnummer, dokumentart, typ, herausgeber,
    datum, aktualisiert, pdf_hash, sitzungsbemerkung, vorgangsbezug_anzahl, wahlperiode,
    fundstelle_dokumentnummer, fundstelle_datum, fundstelle_dokumentart,
    fundstelle_herausgeber, fundstelle_id, fundstelle_anfangsseite, fundstelle_endseite,
    fundstelle_anfangsquadrant, fundstelle_endquadrant, fundstelle_seite,
    fundstelle_pdf_url, fundstelle_xml_url, fundstelle_top, fundstelle_top_zusatz
) VALUES (
    ?, ?, ?, ?, ?, ?, ?, ?, ?, ?,
    ?, ?, ?, ?, ?, ?, ?, ?, ?, ?,
    ?, ?, ?, ?, ?, ?
) RETURNING id, titel, dokumentnummer, dokumentart, typ, herausgeber, datum, aktualisiert, pdf_hash, sitzungsbemerkung, vorgangsbezug_anzahl, wahlperiode, fundstelle_dokumentnummer, fundstelle_datum, fundstelle_dokumentart, fundstelle_herausgeber, fundstelle_id, fundstelle_anfangsseite, fundstelle_endseite, fundstelle_anfangsquadrant, fundstelle_endquadrant, fundstelle_seite, fundstelle_pdf_url, fundstelle_top, fundstelle_top_zusatz, created_at, updated_at, fundstelle_xml_url
`

type CreatePlenarprotokollParams struct {
	ID                        string         `json:"id"`
	Titel                     string         `json:"titel"`
	Dokumentnummer            string         `json:"dokumentnummer"`
	Dokumentart               string         `json:"dokumentart"`
	Typ                       string         `json:"typ"`
	Herausgeber               string         `json:"herausgeber"`
	Datum                     string         `json:"datum"`
	Aktualisiert              string         `json:"aktualisiert"`
	PdfHash                   sql.NullString `json:"pdf_hash"`
	Sitzungsbemerkung         sql.NullString `json:"sitzungsbemerkung"`
	VorgangsbezugAnzahl       int64          `json:"vorgangsbezug_anzahl"`
	Wahlperiode               sql.NullInt64  `json:"wahlperiode"`
	FundstelleDokumentnummer  string         `json:"fundstelle_dokumentnummer"`
	FundstelleDatum           string         `json:"fundstelle_datum"`
	FundstelleDokumentart     string         `json:"fundstelle_dokumentart"`
	FundstelleHerausgeber     string         `json:"fundstelle_herausgeber"`
	FundstelleID              string         `json:"fundstelle_id"`
	FundstelleAnfangsseite    sql.NullInt64  `json:"fundstelle_anfangsseite"`
	FundstelleEndseite        sql.NullInt64  `json:"fundstelle_endseite"`
	FundstelleAnfangsquadrant sql.NullString `json:"fundstelle_anfangsquadrant"`
	FundstelleEndquadrant     sql.NullString `json:"fundstelle_endquadrant"`
	FundstelleSeite           sql.NullString `json:"fundstelle_seite"`
	FundstellePdfUrl          sql.NullString `json:"fundstelle_pdf_url"`
	FundstelleXmlUrl          sql.NullString `json:"fundstelle_xml_url"`
	FundstelleTop             sql.NullInt64  `json:"fundstelle_top"`
	FundstelleTopZusatz       sql.NullString `json:"fundstelle_top_zusatz"`
}

func (q *Queries) CreatePlenarprotokoll(ctx context.Context, arg CreatePlenarprotokollParams) (Plenarprotokoll, error) {
	row := q.db.QueryRowContext(ctx, createPlenarprotokoll,
		arg.ID,
		arg.Titel,
		arg.Dokumentnummer,
		arg.Dokumentart,
		arg.Typ,
		arg.Herausgeber,
		arg.Datum,
		arg.Aktualisiert,
		arg.PdfHash,
		arg.Sitzungsbemerkung,
		arg.VorgangsbezugAnzahl,
		arg.Wahlperiode,
		arg.FundstelleDokumentnummer,
		arg.FundstelleDatum,
		arg.FundstelleDokumentart,
		arg.FundstelleHerausgeber,
		arg.FundstelleID,
		arg.FundstelleAnfangsseite,
		arg.FundstelleEndseite,
		arg.FundstelleAnfangsquadrant,
		arg.FundstelleEndquadrant,
		arg.FundstelleSeite,
		arg.FundstellePdfUrl,
		arg.FundstelleXmlUrl,
		arg.FundstelleTop,
		arg.FundstelleTopZusatz,
	)
	var i Plenarprotokoll
	err := row.Scan(
		&i.ID,
		&i.Titel,
		&i.Dokumentnummer,
		&i.Dokumentart,
		&i.Typ,
		&i.Herausgeber,
		&i.Datum,
		&i.Aktualisiert,
		&i.PdfHash,
		&i.Sitzungsbemerkung,
		&i.VorgangsbezugAnzahl,
		&i.Wahlperiode,
		&i.FundstelleDokumentnummer,
		&i.FundstelleDatum,
		&i.FundstelleDokumentart,
		&i.FundstelleHerausgeber,
		&i.FundstelleID,
		&i.FundstelleAnfangsseite,
		&i.FundstelleEndseite,
		&i.FundstelleAnfangsquadrant,
		&i.FundstelleEndquadrant,
		&i.FundstelleSeite,
		&i.FundstellePdfUrl,
		&i.FundstelleTop,
		&i.FundstelleTopZusatz,
		&i.CreatedAt,
		&i.UpdatedAt,
		&i.FundstelleXmlUrl,
	)
	return i, err
}

const createPlenarprotokollVorgangsbezug = `-- name: CreatePlenarprotokollVorgangsbezug :exec
INSERT INTO plenarprotokoll_vorgangsbezug (
    plenarprotokoll_id, vorgang_id, titel, vorgangstyp, display_order
) VALUES (?, ?, ?, ?, ?)
ON CONFLICT (plenarprotokoll_id, vorgang_id, display_order) DO NOTHING
`

type CreatePlenarprotokollVorgangsbezugParams struct {
	PlenarprotokollID string `json:"plenarprotokoll_id"`
	VorgangID         string `json:"vorgang_id"`
	Titel             string `json:"titel"`
	Vorgangstyp       string `json:"vorgangstyp"`
	DisplayOrder      int64  `json:"display_order"`
}

func (q *Queries) CreatePlenarprotokollVorgangsbezug(ctx context.Context, arg CreatePlenarprotokollVorgangsbezugParams) error {
	_, err := q.db.ExecContext(ctx, createPlenarprotokollVorgangsbezug,
		arg.PlenarprotokollID,
		arg.VorgangID,
		arg.Titel,
		arg.Vorgangstyp,
		arg.DisplayOrder,
	)
	return err
}

const deletePlenarprotokoll = `-- name: DeletePlenarprotokoll :exec
DELETE FROM plenarprotokoll WHERE id = ?
`

func (q *Queries) DeletePlenarprotokoll(ctx context.Context, id string) error {
	_, err := q.db.ExecContext(ctx, deletePlenarprotokoll, id)
	return err
}

const getLatestPlenarprotokollDatum = `-- name: GetLatestPlenarprotokollDatum :one
SELECT MIN(datum) as datum FROM plenarprotokoll
`

func (q *Queries) GetLatestPlenarprotokollDatum(ctx context.Context) (interface{}, error) {
	row := q.db.QueryRowContext(ctx, getLatestPlenarprotokollDatum)
	var datum interface{}
	err := row.Scan(&datum)
	return datum, err
}

const getPlenarprotokoll = `-- name: GetPlenarprotokoll :one
SELECT id, titel, dokumentnummer, dokumentart, typ, herausgeber, datum, aktualisiert, pdf_hash, sitzungsbemerkung, vorgangsbezug_anzahl, wahlperiode, fundstelle_dokumentnummer, fundstelle_datum, fundstelle_dokumentart, fundstelle_herausgeber, fundstelle_id, fundstelle_anfangsseite, fundstelle_endseite, fundstelle_anfangsquadrant, fundstelle_endquadrant, fundstelle_seite, fundstelle_pdf_url, fundstelle_top, fundstelle_top_zusatz, created_at, updated_at, fundstelle_xml_url
FROM plenarprotokoll
WHERE id = ?
`

func (q *Queries) GetPlenarprotokoll(ctx context.Context, id string) (Plenarprotokoll, error) {
	row := q.db.QueryRowContext(ctx, getPlenarprotokoll, id)
	var i Plenarprotokoll
	err := row.Scan(
		&i.ID,
		&i.Titel,
		&i.Dokumentnummer,
		&i.Dokumentart,
		&i.Typ,
		&i.Herausgeber,
		&i.Datum,
		&i.Aktualisiert,
		&i.PdfHash,
		&i.Sitzungsbemerkung,
		&i.VorgangsbezugAnzahl,
		&i.Wahlperiode,
		&i.FundstelleDokumentnummer,
		&i.FundstelleDatum,
		&i.FundstelleDokumentart,
		&i.FundstelleHerausgeber,
		&i.FundstelleID,
		&i.FundstelleAnfangsseite,
		&i.FundstelleEndseite,
		&i.FundstelleAnfangsquadrant,
		&i.FundstelleEndquadrant,
		&i.FundstelleSeite,
		&i.FundstellePdfUrl,
		&i.FundstelleTop,
		&i.FundstelleTopZusatz,
		&i.CreatedAt,
		&i.UpdatedAt,
		&i.FundstelleXmlUrl,
	)
	return i, err
}

const getPlenarprotokollWithVorgangsbezug = `-- name: GetPlenarprotokollWithVorgangsbezug :many
SELECT 
    p.id, p.titel, p.dokumentnummer, p.dokumentart, p.typ, p.herausgeber, p.datum, p.aktualisiert, p.pdf_hash, p.sitzungsbemerkung, p.vorgangsbezug_anzahl, p.wahlperiode, p.fundstelle_dokumentnummer, p.fundstelle_datum, p.fundstelle_dokumentart, p.fundstelle_herausgeber, p.fundstelle_id, p.fundstelle_anfangsseite, p.fundstelle_endseite, p.fundstelle_anfangsquadrant, p.fundstelle_endquadrant, p.fundstelle_seite, p.fundstelle_pdf_url, p.fundstelle_top, p.fundstelle_top_zusatz, p.created_at, p.updated_at, p.fundstelle_xml_url,
    pvb.vorgang_id,
    pvb.titel as vorgangsbezug_titel,
    pvb.vorgangstyp as vorgangsbezug_typ,
    pvb.display_order
FROM plenarprotokoll p
LEFT JOIN plenarprotokoll_vorgangsbezug pvb ON p.id = pvb.plenarprotokoll_id
WHERE p.id = ?
ORDER BY pvb.display_order
`

type GetPlenarprotokollWithVorgangsbezugRow struct {
	ID                        string         `json:"id"`
	Titel                     string         `json:"titel"`
	Dokumentnummer            string         `json:"dokumentnummer"`
	Dokumentart               string         `json:"dokumentart"`
	Typ                       string         `json:"typ"`
	Herausgeber               string         `json:"herausgeber"`
	Datum                     string         `json:"datum"`
	Aktualisiert              string         `json:"aktualisiert"`
	PdfHash                   sql.NullString `json:"pdf_hash"`
	Sitzungsbemerkung         sql.NullString `json:"sitzungsbemerkung"`
	VorgangsbezugAnzahl       int64          `json:"vorgangsbezug_anzahl"`
	Wahlperiode               sql.NullInt64  `json:"wahlperiode"`
	FundstelleDokumentnummer  string         `json:"fundstelle_dokumentnummer"`
	FundstelleDatum           string         `json:"fundstelle_datum"`
	FundstelleDokumentart     string         `json:"fundstelle_dokumentart"`
	FundstelleHerausgeber     string         `json:"fundstelle_herausgeber"`
	FundstelleID              string         `json:"fundstelle_id"`
	FundstelleAnfangsseite    sql.NullInt64  `json:"fundstelle_anfangsseite"`
	FundstelleEndseite        sql.NullInt64  `json:"fundstelle_endseite"`
	FundstelleAnfangsquadrant sql.NullString `json:"fundstelle_anfangsquadrant"`
	FundstelleEndquadrant     sql.NullString `json:"fundstelle_endquadrant"`
	FundstelleSeite           sql.NullString `json:"fundstelle_seite"`
	FundstellePdfUrl          sql.NullString `json:"fundstelle_pdf_url"`
	FundstelleTop             sql.NullInt64  `json:"fundstelle_top"`
	FundstelleTopZusatz       sql.NullString `json:"fundstelle_top_zusatz"`
	CreatedAt                 string         `json:"created_at"`
	UpdatedAt                 string         `json:"updated_at"`
	FundstelleXmlUrl          sql.NullString `json:"fundstelle_xml_url"`
	VorgangID                 sql.NullString `json:"vorgang_id"`
	VorgangsbezugTitel        sql.NullString `json:"vorgangsbezug_titel"`
	VorgangsbezugTyp          sql.NullString `json:"vorgangsbezug_typ"`
	DisplayOrder              sql.NullInt64  `json:"display_order"`
}

func (q *Queries) GetPlenarprotokollWithVorgangsbezug(ctx context.Context, id string) ([]GetPlenarprotokollWithVorgangsbezugRow, error) {
	rows, err := q.db.QueryContext(ctx, getPlenarprotokollWithVorgangsbezug, id)
	if err != nil {
		return nil, err
	}
	defer rows.Close()
	var items []GetPlenarprotokollWithVorgangsbezugRow
	for rows.Next() {
		var i GetPlenarprotokollWithVorgangsbezugRow
		if err := rows.Scan(
			&i.ID,
			&i.Titel,
			&i.Dokumentnummer,
			&i.Dokumentart,
			&i.Typ,
			&i.Herausgeber,
			&i.Datum,
			&i.Aktualisiert,
			&i.PdfHash,
			&i.Sitzungsbemerkung,
			&i.VorgangsbezugAnzahl,
			&i.Wahlperiode,
			&i.FundstelleDokumentnummer,
			&i.FundstelleDatum,
			&i.FundstelleDokumentart,
			&i.FundstelleHerausgeber,
			&i.FundstelleID,
			&i.FundstelleAnfangsseite,
			&i.FundstelleEndseite,
			&i.FundstelleAnfangsquadrant,
			&i.FundstelleEndquadrant,
			&i.FundstelleSeite,
			&i.FundstellePdfUrl,
			&i.FundstelleTop,
			&i.FundstelleTopZusatz,
			&i.CreatedAt,
			&i.UpdatedAt,
			&i.FundstelleXmlUrl,
			&i.VorgangID,
			&i.VorgangsbezugTitel,
			&i.VorgangsbezugTyp,
			&i.DisplayOrder,
		); err != nil {
			return nil, err
		}
		items = append(items, i)
	}
	if err := rows.Close(); err != nil {
		return nil, err
	}
	if err := rows.Err(); err != nil {
		return nil, err
	}
	return items, nil
}

const listPlenarprotokolle = `-- name: ListPlenarprotokolle :many
SELECT id, titel, dokumentnummer, dokumentart, typ, herausgeber, datum, aktualisiert, pdf_hash, sitzungsbemerkung, vorgangsbezug_anzahl, wahlperiode, fundstelle_dokumentnummer, fundstelle_datum, fundstelle_dokumentart, fundstelle_herausgeber, fundstelle_id, fundstelle_anfangsseite, fundstelle_endseite, fundstelle_anfangsquadrant, fundstelle_endquadrant, fundstelle_seite, fundstelle_pdf_url, fundstelle_top, fundstelle_top_zusatz, created_at, updated_at, fundstelle_xml_url
FROM plenarprotokoll
WHERE 
    (? IS NULL OR aktualisiert >= ?)
    AND (? IS NULL OR aktualisiert <= ?)
    AND (? IS NULL OR datum >= ?)
    AND (? IS NULL OR datum <= ?)
    AND (? IS NULL OR wahlperiode = ?)
    AND (? IS NULL OR dokumentnummer = ?)
ORDER BY datum DESC
LIMIT ? OFFSET ?
`

type ListPlenarprotokolleParams struct {
	Column1        interface{}   `json:"column_1"`
	Aktualisiert   string        `json:"aktualisiert"`
	Column3        interface{}   `json:"column_3"`
	Aktualisiert_2 string        `json:"aktualisiert_2"`
	Column5        interface{}   `json:"column_5"`
	Datum          string        `json:"datum"`
	Column7        interface{}   `json:"column_7"`
	Datum_2        string        `json:"datum_2"`
	Column9        interface{}   `json:"column_9"`
	Wahlperiode    sql.NullInt64 `json:"wahlperiode"`
	Column11       interface{}   `json:"column_11"`
	Dokumentnummer string        `json:"dokumentnummer"`
	Limit          int64         `json:"limit"`
	Offset         int64         `json:"offset"`
}

func (q *Queries) ListPlenarprotokolle(ctx context.Context, arg ListPlenarprotokolleParams) ([]Plenarprotokoll, error) {
	rows, err := q.db.QueryContext(ctx, listPlenarprotokolle,
		arg.Column1,
		arg.Aktualisiert,
		arg.Column3,
		arg.Aktualisiert_2,
		arg.Column5,
		arg.Datum,
		arg.Column7,
		arg.Datum_2,
		arg.Column9,
		arg.Wahlperiode,
		arg.Column11,
		arg.Dokumentnummer,
		arg.Limit,
		arg.Offset,
	)
	if err != nil {
		return nil, err
	}
	defer rows.Close()
	var items []Plenarprotokoll
	for rows.Next() {
		var i Plenarprotokoll
		if err := rows.Scan(
			&i.ID,
			&i.Titel,
			&i.Dokumentnummer,
			&i.Dokumentart,
			&i.Typ,
			&i.Herausgeber,
			&i.Datum,
			&i.Aktualisiert,
			&i.PdfHash,
			&i.Sitzungsbemerkung,
			&i.VorgangsbezugAnzahl,
			&i.Wahlperiode,
			&i.FundstelleDokumentnummer,
			&i.FundstelleDatum,
			&i.FundstelleDokumentart,
			&i.FundstelleHerausgeber,
			&i.FundstelleID,
			&i.FundstelleAnfangsseite,
			&i.FundstelleEndseite,
			&i.FundstelleAnfangsquadrant,
			&i.FundstelleEndquadrant,
			&i.FundstelleSeite,
			&i.FundstellePdfUrl,
			&i.FundstelleTop,
			&i.FundstelleTopZusatz,
			&i.CreatedAt,
			&i.UpdatedAt,
			&i.FundstelleXmlUrl,
		); err != nil {
			return nil, err
		}
		items = append(items, i)
	}
	if err := rows.Close(); err != nil {
		return nil, err
	}
	if err := rows.Err(); err != nil {
		return nil, err
	}
	return items, nil
}

const updatePlenarprotokoll = `-- name: UpdatePlenarprotokoll :one
UPDATE plenarprotokoll
SET 
    titel = ?,
    aktualisiert = ?,
    pdf_hash = ?,
    sitzungsbemerkung = ?,
    vorgangsbezug_anzahl = ?,
    updated_at = datetime('now')
WHERE id = ?
RETURNING id, titel, dokumentnummer, dokumentart, typ, herausgeber, datum, aktualisiert, pdf_hash, sitzungsbemerkung, vorgangsbezug_anzahl, wahlperiode, fundstelle_dokumentnummer, fundstelle_datum, fundstelle_dokumentart, fundstelle_herausgeber, fundstelle_id, fundstelle_anfangsseite, fundstelle_endseite, fundstelle_anfangsquadrant, fundstelle_endquadrant, fundstelle_seite, fundstelle_pdf_url, fundstelle_top, fundstelle_top_zusatz, created_at, updated_at, fundstelle_xml_url
`

type UpdatePlenarprotokollParams struct {
	Titel               string         `json:"titel"`
	Aktualisiert        string         `json:"aktualisiert"`
	PdfHash             sql.NullString `json:"pdf_hash"`
	Sitzungsbemerkung   sql.NullString `json:"sitzungsbemerkung"`
	VorgangsbezugAnzahl int64          `json:"vorgangsbezug_anzahl"`
	ID                  string         `json:"id"`
}

func (q *Queries) UpdatePlenarprotokoll(ctx context.Context, arg UpdatePlenarprotokollParams) (Plenarprotokoll, error) {
	row := q.db.QueryRowContext(ctx, updatePlenarprotokoll,
		arg.Titel,
		arg.Aktualisiert,
		arg.PdfHash,
		arg.Sitzungsbemerkung,
		arg.VorgangsbezugAnzahl,
		arg.ID,
	)
	var i Plenarprotokoll
	err := row.Scan(
		&i.ID,
		&i.Titel,
		&i.Dokumentnummer,
		&i.Dokumentart,
		&i.Typ,
		&i.Herausgeber,
		&i.Datum,
		&i.Aktualisiert,
		&i.PdfHash,
		&i.Sitzungsbemerkung,
		&i.VorgangsbezugAnzahl,
		&i.Wahlperiode,
		&i.FundstelleDokumentnummer,
		&i.FundstelleDatum,
		&i.FundstelleDokumentart,
		&i.FundstelleHerausgeber,
		&i.FundstelleID,
		&i.FundstelleAnfangsseite,
		&i.FundstelleEndseite,
		&i.FundstelleAnfangsquadrant,
		&i.FundstelleEndquadrant,
		&i.FundstelleSeite,
		&i.FundstellePdfUrl,
		&i.FundstelleTop,
		&i.FundstelleTopZusatz,
		&i.CreatedAt,
		&i.UpdatedAt,
		&i.FundstelleXmlUrl,
	)
	return i, err
}
