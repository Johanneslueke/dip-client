// Code generated by sqlc. DO NOT EDIT.
// versions:
//   sqlc v1.30.0
// source: aktivitaet.sql

package db

import (
	"context"
	"database/sql"
)

const countAktivitaeten = `-- name: CountAktivitaeten :one
SELECT COUNT(*) FROM aktivitaet
WHERE 
    (? IS NULL OR aktualisiert >= ?)
    AND (? IS NULL OR aktualisiert <= ?)
    AND (? IS NULL OR datum >= ?)
    AND (? IS NULL OR datum <= ?)
    AND (? IS NULL OR wahlperiode = ?)
    AND (? IS NULL OR dokumentart = ?)
    AND (? IS NULL OR fundstelle_dokumentnummer = ?)
`

type CountAktivitaetenParams struct {
	Column1                  interface{} `json:"column_1"`
	Aktualisiert             string      `json:"aktualisiert"`
	Column3                  interface{} `json:"column_3"`
	Aktualisiert_2           string      `json:"aktualisiert_2"`
	Column5                  interface{} `json:"column_5"`
	Datum                    string      `json:"datum"`
	Column7                  interface{} `json:"column_7"`
	Datum_2                  string      `json:"datum_2"`
	Column9                  interface{} `json:"column_9"`
	Wahlperiode              int64       `json:"wahlperiode"`
	Column11                 interface{} `json:"column_11"`
	Dokumentart              string      `json:"dokumentart"`
	Column13                 interface{} `json:"column_13"`
	FundstelleDokumentnummer string      `json:"fundstelle_dokumentnummer"`
}

func (q *Queries) CountAktivitaeten(ctx context.Context, arg CountAktivitaetenParams) (int64, error) {
	row := q.db.QueryRowContext(ctx, countAktivitaeten,
		arg.Column1,
		arg.Aktualisiert,
		arg.Column3,
		arg.Aktualisiert_2,
		arg.Column5,
		arg.Datum,
		arg.Column7,
		arg.Datum_2,
		arg.Column9,
		arg.Wahlperiode,
		arg.Column11,
		arg.Dokumentart,
		arg.Column13,
		arg.FundstelleDokumentnummer,
	)
	var count int64
	err := row.Scan(&count)
	return count, err
}

const createAktivitaet = `-- name: CreateAktivitaet :one
INSERT INTO aktivitaet (
    id, titel, aktivitaetsart, typ, dokumentart, datum, aktualisiert,
    abstract, vorgangsbezug_anzahl, wahlperiode,
    fundstelle_dokumentnummer, fundstelle_datum, fundstelle_dokumentart,
    fundstelle_herausgeber, fundstelle_id, fundstelle_drucksachetyp,
    fundstelle_anlagen, fundstelle_anfangsseite, fundstelle_endseite,
    fundstelle_anfangsquadrant, fundstelle_endquadrant, fundstelle_seite,
    fundstelle_pdf_url, fundstelle_top, fundstelle_top_zusatz,
    fundstelle_frage_nummer, fundstelle_verteildatum
) VALUES (
    ?, ?, ?, ?, ?, ?, ?, ?, ?, ?,
    ?, ?, ?, ?, ?, ?, ?, ?, ?, ?,
    ?, ?, ?, ?, ?, ?, ?
) RETURNING id, titel, aktivitaetsart, typ, dokumentart, datum, aktualisiert, abstract, vorgangsbezug_anzahl, wahlperiode, fundstelle_dokumentnummer, fundstelle_datum, fundstelle_dokumentart, fundstelle_herausgeber, fundstelle_id, fundstelle_drucksachetyp, fundstelle_anlagen, fundstelle_anfangsseite, fundstelle_endseite, fundstelle_anfangsquadrant, fundstelle_endquadrant, fundstelle_seite, fundstelle_pdf_url, fundstelle_top, fundstelle_top_zusatz, fundstelle_frage_nummer, fundstelle_verteildatum, created_at, updated_at
`

type CreateAktivitaetParams struct {
	ID                        string         `json:"id"`
	Titel                     string         `json:"titel"`
	Aktivitaetsart            string         `json:"aktivitaetsart"`
	Typ                       string         `json:"typ"`
	Dokumentart               string         `json:"dokumentart"`
	Datum                     string         `json:"datum"`
	Aktualisiert              string         `json:"aktualisiert"`
	Abstract                  sql.NullString `json:"abstract"`
	VorgangsbezugAnzahl       int64          `json:"vorgangsbezug_anzahl"`
	Wahlperiode               int64          `json:"wahlperiode"`
	FundstelleDokumentnummer  string         `json:"fundstelle_dokumentnummer"`
	FundstelleDatum           string         `json:"fundstelle_datum"`
	FundstelleDokumentart     string         `json:"fundstelle_dokumentart"`
	FundstelleHerausgeber     string         `json:"fundstelle_herausgeber"`
	FundstelleID              string         `json:"fundstelle_id"`
	FundstelleDrucksachetyp   sql.NullString `json:"fundstelle_drucksachetyp"`
	FundstelleAnlagen         sql.NullString `json:"fundstelle_anlagen"`
	FundstelleAnfangsseite    sql.NullInt64  `json:"fundstelle_anfangsseite"`
	FundstelleEndseite        sql.NullInt64  `json:"fundstelle_endseite"`
	FundstelleAnfangsquadrant sql.NullString `json:"fundstelle_anfangsquadrant"`
	FundstelleEndquadrant     sql.NullString `json:"fundstelle_endquadrant"`
	FundstelleSeite           sql.NullString `json:"fundstelle_seite"`
	FundstellePdfUrl          sql.NullString `json:"fundstelle_pdf_url"`
	FundstelleTop             sql.NullInt64  `json:"fundstelle_top"`
	FundstelleTopZusatz       sql.NullString `json:"fundstelle_top_zusatz"`
	FundstelleFrageNummer     sql.NullString `json:"fundstelle_frage_nummer"`
	FundstelleVerteildatum    sql.NullString `json:"fundstelle_verteildatum"`
}

func (q *Queries) CreateAktivitaet(ctx context.Context, arg CreateAktivitaetParams) (Aktivitaet, error) {
	row := q.db.QueryRowContext(ctx, createAktivitaet,
		arg.ID,
		arg.Titel,
		arg.Aktivitaetsart,
		arg.Typ,
		arg.Dokumentart,
		arg.Datum,
		arg.Aktualisiert,
		arg.Abstract,
		arg.VorgangsbezugAnzahl,
		arg.Wahlperiode,
		arg.FundstelleDokumentnummer,
		arg.FundstelleDatum,
		arg.FundstelleDokumentart,
		arg.FundstelleHerausgeber,
		arg.FundstelleID,
		arg.FundstelleDrucksachetyp,
		arg.FundstelleAnlagen,
		arg.FundstelleAnfangsseite,
		arg.FundstelleEndseite,
		arg.FundstelleAnfangsquadrant,
		arg.FundstelleEndquadrant,
		arg.FundstelleSeite,
		arg.FundstellePdfUrl,
		arg.FundstelleTop,
		arg.FundstelleTopZusatz,
		arg.FundstelleFrageNummer,
		arg.FundstelleVerteildatum,
	)
	var i Aktivitaet
	err := row.Scan(
		&i.ID,
		&i.Titel,
		&i.Aktivitaetsart,
		&i.Typ,
		&i.Dokumentart,
		&i.Datum,
		&i.Aktualisiert,
		&i.Abstract,
		&i.VorgangsbezugAnzahl,
		&i.Wahlperiode,
		&i.FundstelleDokumentnummer,
		&i.FundstelleDatum,
		&i.FundstelleDokumentart,
		&i.FundstelleHerausgeber,
		&i.FundstelleID,
		&i.FundstelleDrucksachetyp,
		&i.FundstelleAnlagen,
		&i.FundstelleAnfangsseite,
		&i.FundstelleEndseite,
		&i.FundstelleAnfangsquadrant,
		&i.FundstelleEndquadrant,
		&i.FundstelleSeite,
		&i.FundstellePdfUrl,
		&i.FundstelleTop,
		&i.FundstelleTopZusatz,
		&i.FundstelleFrageNummer,
		&i.FundstelleVerteildatum,
		&i.CreatedAt,
		&i.UpdatedAt,
	)
	return i, err
}

const createAktivitaetDeskriptor = `-- name: CreateAktivitaetDeskriptor :one
INSERT INTO aktivitaet_deskriptor (aktivitaet_id, name, typ)
VALUES (?, ?, ?)
ON CONFLICT (aktivitaet_id, name, typ) DO NOTHING
RETURNING id, aktivitaet_id, name, typ, created_at
`

type CreateAktivitaetDeskriptorParams struct {
	AktivitaetID string `json:"aktivitaet_id"`
	Name         string `json:"name"`
	Typ          string `json:"typ"`
}

func (q *Queries) CreateAktivitaetDeskriptor(ctx context.Context, arg CreateAktivitaetDeskriptorParams) (AktivitaetDeskriptor, error) {
	row := q.db.QueryRowContext(ctx, createAktivitaetDeskriptor, arg.AktivitaetID, arg.Name, arg.Typ)
	var i AktivitaetDeskriptor
	err := row.Scan(
		&i.ID,
		&i.AktivitaetID,
		&i.Name,
		&i.Typ,
		&i.CreatedAt,
	)
	return i, err
}

const createAktivitaetVorgangsbezug = `-- name: CreateAktivitaetVorgangsbezug :exec
INSERT INTO aktivitaet_vorgangsbezug (
    aktivitaet_id, vorgang_id, titel, vorgangsposition, vorgangstyp, display_order
) VALUES (?, ?, ?, ?, ?, ?)
ON CONFLICT (aktivitaet_id, vorgang_id, display_order) DO NOTHING
`

type CreateAktivitaetVorgangsbezugParams struct {
	AktivitaetID     string `json:"aktivitaet_id"`
	VorgangID        string `json:"vorgang_id"`
	Titel            string `json:"titel"`
	Vorgangsposition string `json:"vorgangsposition"`
	Vorgangstyp      string `json:"vorgangstyp"`
	DisplayOrder     int64  `json:"display_order"`
}

func (q *Queries) CreateAktivitaetVorgangsbezug(ctx context.Context, arg CreateAktivitaetVorgangsbezugParams) error {
	_, err := q.db.ExecContext(ctx, createAktivitaetVorgangsbezug,
		arg.AktivitaetID,
		arg.VorgangID,
		arg.Titel,
		arg.Vorgangsposition,
		arg.Vorgangstyp,
		arg.DisplayOrder,
	)
	return err
}

const deleteAktivitaet = `-- name: DeleteAktivitaet :exec
DELETE FROM aktivitaet WHERE id = ?
`

func (q *Queries) DeleteAktivitaet(ctx context.Context, id string) error {
	_, err := q.db.ExecContext(ctx, deleteAktivitaet, id)
	return err
}

const getAktivitaet = `-- name: GetAktivitaet :one
SELECT 
    a.id, a.titel, a.aktivitaetsart, a.typ, a.dokumentart, a.datum, a.aktualisiert, a.abstract, a.vorgangsbezug_anzahl, a.wahlperiode, a.fundstelle_dokumentnummer, a.fundstelle_datum, a.fundstelle_dokumentart, a.fundstelle_herausgeber, a.fundstelle_id, a.fundstelle_drucksachetyp, a.fundstelle_anlagen, a.fundstelle_anfangsseite, a.fundstelle_endseite, a.fundstelle_anfangsquadrant, a.fundstelle_endquadrant, a.fundstelle_seite, a.fundstelle_pdf_url, a.fundstelle_top, a.fundstelle_top_zusatz, a.fundstelle_frage_nummer, a.fundstelle_verteildatum, a.created_at, a.updated_at
FROM aktivitaet a
WHERE a.id = ?
`

// SQLite version - uses json_object instead of jsonb_build_object, no FILTER clause
func (q *Queries) GetAktivitaet(ctx context.Context, id string) (Aktivitaet, error) {
	row := q.db.QueryRowContext(ctx, getAktivitaet, id)
	var i Aktivitaet
	err := row.Scan(
		&i.ID,
		&i.Titel,
		&i.Aktivitaetsart,
		&i.Typ,
		&i.Dokumentart,
		&i.Datum,
		&i.Aktualisiert,
		&i.Abstract,
		&i.VorgangsbezugAnzahl,
		&i.Wahlperiode,
		&i.FundstelleDokumentnummer,
		&i.FundstelleDatum,
		&i.FundstelleDokumentart,
		&i.FundstelleHerausgeber,
		&i.FundstelleID,
		&i.FundstelleDrucksachetyp,
		&i.FundstelleAnlagen,
		&i.FundstelleAnfangsseite,
		&i.FundstelleEndseite,
		&i.FundstelleAnfangsquadrant,
		&i.FundstelleEndquadrant,
		&i.FundstelleSeite,
		&i.FundstellePdfUrl,
		&i.FundstelleTop,
		&i.FundstelleTopZusatz,
		&i.FundstelleFrageNummer,
		&i.FundstelleVerteildatum,
		&i.CreatedAt,
		&i.UpdatedAt,
	)
	return i, err
}

const getAktivitaetWithDeskriptor = `-- name: GetAktivitaetWithDeskriptor :many
SELECT 
    a.id,
    a.titel,
    a.aktivitaetsart,
    a.typ,
    a.dokumentart,
    a.datum,
    a.aktualisiert,
    a.abstract,
    a.vorgangsbezug_anzahl,
    a.wahlperiode,
    ad.name as deskriptor_name,
    ad.typ as deskriptor_typ
FROM aktivitaet a
LEFT JOIN aktivitaet_deskriptor ad ON a.id = ad.aktivitaet_id
WHERE a.id = ?
`

type GetAktivitaetWithDeskriptorRow struct {
	ID                  string         `json:"id"`
	Titel               string         `json:"titel"`
	Aktivitaetsart      string         `json:"aktivitaetsart"`
	Typ                 string         `json:"typ"`
	Dokumentart         string         `json:"dokumentart"`
	Datum               string         `json:"datum"`
	Aktualisiert        string         `json:"aktualisiert"`
	Abstract            sql.NullString `json:"abstract"`
	VorgangsbezugAnzahl int64          `json:"vorgangsbezug_anzahl"`
	Wahlperiode         int64          `json:"wahlperiode"`
	DeskriptorName      sql.NullString `json:"deskriptor_name"`
	DeskriptorTyp       sql.NullString `json:"deskriptor_typ"`
}

func (q *Queries) GetAktivitaetWithDeskriptor(ctx context.Context, id string) ([]GetAktivitaetWithDeskriptorRow, error) {
	rows, err := q.db.QueryContext(ctx, getAktivitaetWithDeskriptor, id)
	if err != nil {
		return nil, err
	}
	defer rows.Close()
	var items []GetAktivitaetWithDeskriptorRow
	for rows.Next() {
		var i GetAktivitaetWithDeskriptorRow
		if err := rows.Scan(
			&i.ID,
			&i.Titel,
			&i.Aktivitaetsart,
			&i.Typ,
			&i.Dokumentart,
			&i.Datum,
			&i.Aktualisiert,
			&i.Abstract,
			&i.VorgangsbezugAnzahl,
			&i.Wahlperiode,
			&i.DeskriptorName,
			&i.DeskriptorTyp,
		); err != nil {
			return nil, err
		}
		items = append(items, i)
	}
	if err := rows.Close(); err != nil {
		return nil, err
	}
	if err := rows.Err(); err != nil {
		return nil, err
	}
	return items, nil
}

const listAktivitaeten = `-- name: ListAktivitaeten :many
SELECT id, titel, aktivitaetsart, typ, dokumentart, datum, aktualisiert, abstract, vorgangsbezug_anzahl, wahlperiode, fundstelle_dokumentnummer, fundstelle_datum, fundstelle_dokumentart, fundstelle_herausgeber, fundstelle_id, fundstelle_drucksachetyp, fundstelle_anlagen, fundstelle_anfangsseite, fundstelle_endseite, fundstelle_anfangsquadrant, fundstelle_endquadrant, fundstelle_seite, fundstelle_pdf_url, fundstelle_top, fundstelle_top_zusatz, fundstelle_frage_nummer, fundstelle_verteildatum, created_at, updated_at
FROM aktivitaet
WHERE 
    (? IS NULL OR aktualisiert >= ?)
    AND (? IS NULL OR aktualisiert <= ?)
    AND (? IS NULL OR datum >= ?)
    AND (? IS NULL OR datum <= ?)
    AND (? IS NULL OR wahlperiode = ?)
    AND (? IS NULL OR dokumentart = ?)
    AND (? IS NULL OR fundstelle_dokumentnummer = ?)
ORDER BY aktualisiert DESC
LIMIT ? OFFSET ?
`

type ListAktivitaetenParams struct {
	Column1                  interface{} `json:"column_1"`
	Aktualisiert             string      `json:"aktualisiert"`
	Column3                  interface{} `json:"column_3"`
	Aktualisiert_2           string      `json:"aktualisiert_2"`
	Column5                  interface{} `json:"column_5"`
	Datum                    string      `json:"datum"`
	Column7                  interface{} `json:"column_7"`
	Datum_2                  string      `json:"datum_2"`
	Column9                  interface{} `json:"column_9"`
	Wahlperiode              int64       `json:"wahlperiode"`
	Column11                 interface{} `json:"column_11"`
	Dokumentart              string      `json:"dokumentart"`
	Column13                 interface{} `json:"column_13"`
	FundstelleDokumentnummer string      `json:"fundstelle_dokumentnummer"`
	Limit                    int64       `json:"limit"`
	Offset                   int64       `json:"offset"`
}

func (q *Queries) ListAktivitaeten(ctx context.Context, arg ListAktivitaetenParams) ([]Aktivitaet, error) {
	rows, err := q.db.QueryContext(ctx, listAktivitaeten,
		arg.Column1,
		arg.Aktualisiert,
		arg.Column3,
		arg.Aktualisiert_2,
		arg.Column5,
		arg.Datum,
		arg.Column7,
		arg.Datum_2,
		arg.Column9,
		arg.Wahlperiode,
		arg.Column11,
		arg.Dokumentart,
		arg.Column13,
		arg.FundstelleDokumentnummer,
		arg.Limit,
		arg.Offset,
	)
	if err != nil {
		return nil, err
	}
	defer rows.Close()
	var items []Aktivitaet
	for rows.Next() {
		var i Aktivitaet
		if err := rows.Scan(
			&i.ID,
			&i.Titel,
			&i.Aktivitaetsart,
			&i.Typ,
			&i.Dokumentart,
			&i.Datum,
			&i.Aktualisiert,
			&i.Abstract,
			&i.VorgangsbezugAnzahl,
			&i.Wahlperiode,
			&i.FundstelleDokumentnummer,
			&i.FundstelleDatum,
			&i.FundstelleDokumentart,
			&i.FundstelleHerausgeber,
			&i.FundstelleID,
			&i.FundstelleDrucksachetyp,
			&i.FundstelleAnlagen,
			&i.FundstelleAnfangsseite,
			&i.FundstelleEndseite,
			&i.FundstelleAnfangsquadrant,
			&i.FundstelleEndquadrant,
			&i.FundstelleSeite,
			&i.FundstellePdfUrl,
			&i.FundstelleTop,
			&i.FundstelleTopZusatz,
			&i.FundstelleFrageNummer,
			&i.FundstelleVerteildatum,
			&i.CreatedAt,
			&i.UpdatedAt,
		); err != nil {
			return nil, err
		}
		items = append(items, i)
	}
	if err := rows.Close(); err != nil {
		return nil, err
	}
	if err := rows.Err(); err != nil {
		return nil, err
	}
	return items, nil
}

const updateAktivitaet = `-- name: UpdateAktivitaet :one
UPDATE aktivitaet
SET 
    titel = ?,
    aktivitaetsart = ?,
    aktualisiert = ?,
    abstract = ?,
    vorgangsbezug_anzahl = ?,
    updated_at = datetime('now')
WHERE id = ?
RETURNING id, titel, aktivitaetsart, typ, dokumentart, datum, aktualisiert, abstract, vorgangsbezug_anzahl, wahlperiode, fundstelle_dokumentnummer, fundstelle_datum, fundstelle_dokumentart, fundstelle_herausgeber, fundstelle_id, fundstelle_drucksachetyp, fundstelle_anlagen, fundstelle_anfangsseite, fundstelle_endseite, fundstelle_anfangsquadrant, fundstelle_endquadrant, fundstelle_seite, fundstelle_pdf_url, fundstelle_top, fundstelle_top_zusatz, fundstelle_frage_nummer, fundstelle_verteildatum, created_at, updated_at
`

type UpdateAktivitaetParams struct {
	Titel               string         `json:"titel"`
	Aktivitaetsart      string         `json:"aktivitaetsart"`
	Aktualisiert        string         `json:"aktualisiert"`
	Abstract            sql.NullString `json:"abstract"`
	VorgangsbezugAnzahl int64          `json:"vorgangsbezug_anzahl"`
	ID                  string         `json:"id"`
}

func (q *Queries) UpdateAktivitaet(ctx context.Context, arg UpdateAktivitaetParams) (Aktivitaet, error) {
	row := q.db.QueryRowContext(ctx, updateAktivitaet,
		arg.Titel,
		arg.Aktivitaetsart,
		arg.Aktualisiert,
		arg.Abstract,
		arg.VorgangsbezugAnzahl,
		arg.ID,
	)
	var i Aktivitaet
	err := row.Scan(
		&i.ID,
		&i.Titel,
		&i.Aktivitaetsart,
		&i.Typ,
		&i.Dokumentart,
		&i.Datum,
		&i.Aktualisiert,
		&i.Abstract,
		&i.VorgangsbezugAnzahl,
		&i.Wahlperiode,
		&i.FundstelleDokumentnummer,
		&i.FundstelleDatum,
		&i.FundstelleDokumentart,
		&i.FundstelleHerausgeber,
		&i.FundstelleID,
		&i.FundstelleDrucksachetyp,
		&i.FundstelleAnlagen,
		&i.FundstelleAnfangsseite,
		&i.FundstelleEndseite,
		&i.FundstelleAnfangsquadrant,
		&i.FundstelleEndquadrant,
		&i.FundstelleSeite,
		&i.FundstellePdfUrl,
		&i.FundstelleTop,
		&i.FundstelleTopZusatz,
		&i.FundstelleFrageNummer,
		&i.FundstelleVerteildatum,
		&i.CreatedAt,
		&i.UpdatedAt,
	)
	return i, err
}
